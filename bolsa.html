<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>FM Fisioterapia e SaÃºde - Bolsa</title>
  <style>
    body {
      background-color: #0f172a;
      color: #f8f9fa;
      font-family: "Segoe UI", sans-serif;
      margin: 0;
      padding: 20px 20px 70px 20px;
      text-align: center;
    }
    h1 {
      font-size: 2.5em;
      margin-bottom: 20px;
      color: #ffffff;
    }
    h2 {
      font-size: 1.8em;
      margin-top: 40px;
      border-bottom: 2px solid #38bdf8;
      padding-bottom: 5px;
      color: #38bdf8;
    }
    .quote-container {
      display: flex;
      justify-content: center;
      gap: 40px;
      flex-wrap: wrap;
      margin-top: 30px;
    }
    .quote {
      background-color: #1e293b;
      border-radius: 10px;
      padding: 20px;
      min-width: 180px;
      box-shadow: 0 0 10px #0ea5e9;
    }
    .quote h3 {
      font-size: 1.6em;
      margin-bottom: 10px;
      color: #38bdf8;
    }
    .price {
      font-size: 2.4em;
      font-weight: bold;
      margin-bottom: 5px;
    }
    .change {
      font-size: 1.5em;
    }
    .positive {
      color: #22c55e;
    }
    .negative {
      color: #ef4444;
    }
    .bottom-bar {
      position: fixed;
      bottom: 0;
      left: 0;
      width: 100%;
      background-color: #00796b;
      color: #fff;
      text-align: center;
      padding: 12px 0;
      font-size: 1.3em;
      font-weight: 600;
      box-shadow: 0 -2px 6px rgba(0,0,0,0.25);
      z-index: 9999;
    }
  </style>
</head>
<body>
  <h1>ðŸ“Š Mercado Financeiro | FM Fisioterapia e SaÃºde</h1>

  <h2>ðŸ“ˆ Bolsas de Valores</h2>
  <div class="quote-container" id="stock-quotes">
    <!-- Dados carregados aqui -->
  </div>

  <h2>ðŸ’± CotaÃ§Ãµes de Moedas</h2>
  <div class="quote-container" id="currency-quotes">
    <!-- Dados carregados aqui -->
  </div>

  <div class="bottom-bar">
    ClÃ­nica FM Fisioterapia e SaÃºde
  </div>

  <script>
    // SÃ­mbolos usados para a API
    const stocks = [
      { symbol: '^BVSP', name: 'IBOV' },       // IBOVESPA
      { symbol: '^IXIC', name: 'NASDAQ' },     // Nasdaq Composite
      { symbol: '^DJI', name: 'Dow Jones' },   // Dow Jones
    ];

    const currencies = [
      { symbol: 'USDBRL', name: 'DÃ³lar / Real' },
      { symbol: 'EURBRL', name: 'Euro / Real' },
    ];

    // FunÃ§Ã£o para formatar valor com 2 casas decimais e vÃ­rgula
    function formatPrice(value) {
      return value.toFixed(2).replace('.', ',');
    }

    // FunÃ§Ã£o para criar card com dados
    function createQuoteCard(name, price, change) {
      const div = document.createElement('div');
      div.className = 'quote';

      const changeClass = change >= 0 ? 'positive' : 'negative';
      const sign = change >= 0 ? '+' : '';

      div.innerHTML = `
        <h3>${name}</h3>
        <div class="price">${formatPrice(price)}</div>
        <div class="change ${changeClass}">${sign}${formatPrice(change)}</div>
      `;
      return div;
    }

    // Puxar dados bolsa
    async function fetchStockData() {
      const container = document.getElementById('stock-quotes');
      container.innerHTML = 'Carregando...';

      // A API do Financial Modeling Prep usa symbol simples, alguns sÃ­mbolos com "^" devem ser adaptados
      // Para IBOV e outros Ã­ndices brasileiros, pode nÃ£o ter dados na API gratuita.
      // Para este exemplo, vamos usar '^BVSP' como IBOV e '^IXIC' e '^DJI' para US

      // Financial Modeling Prep usa sÃ­mbolos como: ^BVSP, ^IXIC e ^DJI normalmente, porÃ©m API gratuita nÃ£o cobre Ã­ndice brasileiro.
      // Alternativa: pegar IBOV pelo sÃ­mbolo ^BVSP do Yahoo, mas para este script, vamos usar dados para US.

      // Para este exemplo, usaremos IBOV como BOVA11 (ETF da bolsa brasileira), sÃ­mbolo BOVA11 no mercado.

      try {
        container.innerHTML = '';

        // IBOV (como BOVA11)
        let res = await fetch('https://financialmodelingprep.com/api/v3/quote/BOVA11?apikey=demo');
        let data = await res.json();
        if (data.length > 0) {
          const d = data[0];
          container.appendChild(createQuoteCard('IBOV (BOVA11)', d.price, d.change));
        }

        // NASDAQ
        res = await fetch('https://financialmodelingprep.com/api/v3/quote/IXIC?apikey=demo');
        data = await res.json();
        if (data.length > 0) {
          const d = data[0];
          container.appendChild(createQuoteCard('NASDAQ', d.price, d.change));
        }

        // DOW JONES
        res = await fetch('https://financialmodelingprep.com/api/v3/quote/DJI?apikey=demo');
        data = await res.json();
        if (data.length > 0) {
          const d = data[0];
          container.appendChild(createQuoteCard('DOW JONES', d.price, d.change));
        }

      } catch (e) {
        container.innerHTML = 'Erro ao carregar dados das bolsas.';
        console.error(e);
      }
    }

    // Puxar dados moedas
    async function fetchCurrencyData() {
      const container = document.getElementById('currency-quotes');
      container.innerHTML = 'Carregando...';

      try {
        container.innerHTML = '';

        // USD/BRL
        let res = await fetch('https://financialmodelingprep.com/api/v3/quote/USDBRL?apikey=demo');
        let data = await res.json();
        if (data.length > 0) {
          const d = data[0];
          container.appendChild(createQuoteCard('DÃ³lar / Real', d.price, d.change));
        }

        // EUR/BRL
        res = await fetch('https://financialmodelingprep.com/api/v3/quote/EURBRL?apikey=demo');
        data = await res.json();
        if (data.length > 0) {
          const d = data[0];
          container.appendChild(createQuoteCard('Euro / Real', d.price, d.change));
        }

      } catch (e) {
        container.innerHTML = 'Erro ao carregar dados das moedas.';
        console.error(e);
      }
    }

    fetchStockData();
    fetchCurrencyData();
  </script>
</body>
</html>
